STT	Mục
1	Tổng Quan Về Đề Tài
1.1	Thực Trạng Đề Tài
1.2	Mục Tiêu Nghiên Cứu
1.3	Giới Hạn Của Đề Tài
2	Nội Dung Thực Hiện
2.1	Cơ Sở Lý Thuyết
2.2	Thiết Kế Hệ Thống
2.3	Triển Khai Hệ Thống
3	Kết Quả Nghiên Cứu
3.1	Kết Quả Đạt Được
3.2	Phân Tích và Đánh Giá
3.3	Hướng Phát Triển
Tài Liệu Tham Khảo
Bảng	Mô tả
Bảng 1.1	So sánh các giải pháp kiểm soát ra vào (Thẻ từ đơn thuần, Mật khẩu đơn thuần, Khóa kết hợp RFID & Keypad).
Bảng 2.1	Danh sách linh kiện phần cứng (Bổ sung Keypad, Relay/Motor Driver).
Bảng 2.2	Cấu hình chân kết nối của MFRC522, Keypad 4x4, và STM32F407VET6.
Bảng 3.1	Kết quả thử nghiệm các chế độ mở khóa (Thẻ hợp lệ, Mật khẩu đúng, Thẻ/Mật khẩu sai) với danh sách nhiều người dùng.
Tên viết tắt	Mô Tả
STM32F407VET6	Vi điều khiển dòng Cortex-M4 của STMicroelectronics
ARM	Advanced RISC Machine
GPIO	General Purpose Input/Output
SPI	Serial Peripheral Interface
I2C	Inter-Integrated Circuit
RFID	Radio Frequency Identification
MFRC522	Module RFID hoạt động ở tần số 13.56 MHz
KEYPAD	Thiết bị nhập liệu ma trận phím
LCD	Liquid Crystal Display
PCF8574	IC giao tiếp I2C cho LCD
UIT	University of Information Technology
KTMT	Kỹ thuật Máy tính
1. Tổng Quan Về Đề Tài
1.1. Thực Trạng Đề Tài
Khảo sát: Nhu cầu về các hệ thống kiểm soát ra vào hiệu suất cao và đa lớp bảo mật trong môi trường doanh nghiệp và nhà thông minh. Phân tích: Việc sử dụng vi điều khiển STM32F407VET6 (ARM Cortex-M4) cho phép triển khai hệ thống có tốc độ xử lý nhanh, khả năng lưu trữ lớn (để quản lý nhiều người dùng), và hỗ trợ giao tiếp đa kênh (SPI, I2C, GPIO) đồng thời. Điều này khắc phục hạn chế về tài nguyên của các hệ thống 8-bit MCU như AT89S52. Bảng so sánh: Bảng 1.1 so sánh các giải pháp kiểm soát ra vào về độ bảo mật, tốc độ phản hồi, và khả năng mở rộng (sự khác biệt khi dùng 8-bit MCU vs. Cortex-M4).
1.2. Mục Tiêu Nghiên Cứu
Tổng quát: Xây dựng hệ thống Khóa Cửa Thông Minh sử dụng STM32F407VET6 để xác thực người dùng bằng Thẻ RFID hoặc Mật khẩu, đồng thời tích hợp tính năng quản lý danh sách người dùng và điều khiển cơ cấu khóa (Relay/Motor Driver). Chi tiết:

Giao tiếp SPI giữa STM32F407VET6 và MFRC522 để đọc UID thẻ.

Giao tiếp quét ma trận qua GPIO để nhận input từ Keypad 4x4.

Sử dụng bộ nhớ Flash/EEPROM của STM32 để lưu trữ danh sách nhiều UID và mật khẩu.

Hiển thị trạng thái xác thực và hướng dẫn trên LCD 16x2 qua I2C.

Điều khiển Relay/Motor để mô phỏng hành động Mở/Khóa cửa khi xác thực thành công
1.3. Giới Hạn Của Đề Tài
Chỉ tập trung vào việc xác thực và điều khiển cơ cấu khóa, chưa triển khai giao tiếp mạng (IoT) để điều khiển từ xa.

Phạm vi đọc thẻ giới hạn bởi module MFRC522 (khoảng 5-10 cm).

Hệ thống chưa tích hợp các thuật toán mã hóa dữ liệu thẻ/mật khẩu phức tạp.
2. Nội Dung Thực Hiện
2.1. Cơ Sở Lý Thuyết
Vi điều khiển STM32F407VET6: Đặc điểm kỹ thuật (Core Cortex-M4, tốc độ 168 MHz), lợi ích khi sử dụng DMA và Interrupt để xử lý đa nhiệm (quét Keypad, đọc RFID) hiệu quả hơn.

Giao tiếp SPI và I2C trên STM32: Cấu hình các thanh ghi ngoại vi hoặc sử dụng thư viện HAL/LL để giao tiếp với MFRC522 (SPI) và PCF8574/LCD (I2C).

Keypad Ma trận: Nguyên lý quét 4x4 và xử lý chống dội phím (Debouncing) bằng Timer của STM32.

Quản lý dữ liệu: Xử lý đọc/ghi danh sách UID và PIN trong bộ nhớ Flash của STM32.
2.2. Thiết Kế Hệ Thống
Sơ đồ khối: Mô tả luồng dữ liệu từ MFRC522 và Keypad 4x4 đi vào STM32F407VET6, sau đó xử lý logic để điều khiển LCD và Relay/Motor. Sơ đồ mạch: Mô tả kết nối chi tiết các chân GPIO của STM32F407VET6:

SPI: SCL, MOSI, MISO, và Chip Select (CS) được kết nối tới một cổng SPI cụ thể (ví dụ: SPI1).

I2C: SDA và SCL được kết nối tới một cổng I2C cụ thể (ví dụ: I2C1).

Keypad và Relay: Kết nối trực tiếp tới các chân GPIO được cấu hình là Input và Output. Phần cứng: Bảng 2.1 liệt kê các linh kiện chính (STM32F407VET6 Board, MFRC522, Keypad 4x4, LCD 16x2 + PCF8574, Relay Module). Cấu hình chân: Bảng 2.2 chi tiết việc ánh xạ các chân của ngoại vi vào các chân Port/Pin của STM32F407VET6.
2.3. Triển Khai Hệ Thống
Lập trình:

Môi trường: STM32CubeIDE hoặc Keil uVision.

Công cụ: Sử dụng STM32CubeMX để cấu hình và sinh code khởi tạo.

Quy trình logic:

Khởi tạo tất cả ngoại vi (SPI, I2C, GPIO).

Chạy vòng lặp chính: Đa nhiệm quét Keypad và đọc thẻ RFID.

Logic xác thực: So sánh input (UID hoặc PIN) với danh sách đã lưu.

Quản lý: Triển khai Admin Mode (qua một thẻ/mật khẩu đặc biệt) để thêm/xóa thẻ/mật khẩu.

Điều khiển Output (LCD hiển thị trạng thái, Relay đóng/ngắt). Mô phỏng: Kiểm tra logic chương trình và giao tiếp ngoại vi trên môi trường Debug của STM32CubeIDE (hoặc Proteus/Keil). Thử nghiệm phần cứng: Lắp ráp và kiểm tra hệ thống thực tế.
3. Kết Quả Nghiên Cứu
3.1. Kết Quả Đạt Được
Hệ thống khóa cửa thông minh hoạt động ổn định với STM32F407VET6.

Tốc độ phản hồi của hệ thống được cải thiện đáng kể so với AT89S52.

Thành công trong việc triển khai Admin Mode và quản lý danh sách nhiều người dùng (đọc/ghi dữ liệu vào bộ nhớ).

Bảng 3.1: Kết quả thử nghiệm xác thực với nhiều thẻ và mật khẩu khác nhau.
3.2. Phân Tích và Đánh Giá
Ưu điểm:

Hiệu suất cao và đa nhiệm: Tốc độ xử lý của Cortex-M4 cho phép quét Keypad và RFID liên tục mà không gây trễ.

Khả năng mở rộng: Bộ nhớ lớn cho phép lưu trữ hàng trăm UID, và có thể dễ dàng bổ sung các tính năng khác (như kết nối UART/Ethernet cho IoT).

Hạn chế:

Độ phức tạp lập trình cao hơn do sử dụng kiến trúc ARM và thư viện HAL/LL.

Chi phí phần cứng cao hơn so với 8-bit MCU.
3.3. Hướng Phát Triển
Tích hợp IoT: Sử dụng giao tiếp UART và Module ESP8266/Ethernet của STM32F407 để gửi trạng thái khóa/mở đến máy chủ (Server/Mobile App) và điều khiển từ xa.

Triển khai thuật toán mã hóa (ví dụ: AES) cho mật khẩu và dữ liệu UID lưu trữ.

Tích hợp màn hình TFT thay cho LCD 16x2 để có giao diện người dùng trực quan hơn.
Tài Liệu Tham Khảo
(Phần này dùng để liệt kê tài liệu đã tham khảo, ví dụ: Datasheet của STM32F407VET6, MFRC522, hướng dẫn lập trình STM32CubeIDE, v.v.)